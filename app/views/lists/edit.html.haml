- if @list.errors.any?
  #error_explanation.alert.alert-danger
    %ul
      - @list.errors.full_messages.each do |message|
        %li= message
= simple_form_for @list do |f|
  .field_playlist
    .list_image
      = image_tag @list.image.url(:thumb)
      = f.input :image, as: :file, label: false
    .list_title
      = f.input :title, label: false, placeholder: 'プレイリスト名'
    .list_genre
      = f.text_field :tag_list, value: "# " + f.object.tag_list.to_s, placeholder: 'ジャンル'
      = f.hint '例　# Genre1 # Genre2'

    .list_description
      = f.input :description, label: false, placeholder: 'プレイリストの説明'
    .list_price{:style => "margin-bottom: 50px;"}
      ￥
      = f.select :price, options_for_select(Constants::AMOUNT, selected: f.object.price), {}, { class: 'js-hide-search', data: { placeholder: '金額を選択してください' } }
  
  #track_section.table-sortable
    = f.fields_for :tracks, @list.tracks.sort_by(&:row_order) do |track|
      = render 'track_fields', f: track
  .field_track_add
    = link_to_add_association '曲を追加する', f, :tracks,:"data-association-insertion-node" => "#track_section",:"data-association-insertion-method" => "append"
  .actions
    - if @list.id == nil
      = f.submit "作成"
    - else
      = f.submit "更新"
      = link_to "削除", @list, method: :delete, data: { confirm: "#{@list.title}を削除してもよろしいですか?" }
  
  
  